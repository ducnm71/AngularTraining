<div class="flex px-5 py-3 border-b-2 border-gray-300">
  <div class="flex gap-1 cursor-pointer flex-1 flex-col">
    <div class="flex items-center gap-1 cursor-pointer" (click)="backStory()">
      <mat-icon class="text-sky-600">arrow_back</mat-icon>
      <p class="text-sky-600 text-lg">Back story detail</p>
    </div>
    <h1 class="text-xl">Config object: {{ storyName }}</h1>
  </div>
  <div class=" flex items-center gap-2">
    <button mat-raised-button color="primary" (click)="preview()"><mat-icon>remove_red_eye</mat-icon>Preview</button>
    <button (click)="openDialog()" mat-raised-button><mat-icon>add</mat-icon>New page</button>
  </div>
</div>

<div class="w-[96%] m-auto pb-24" *ngIf="pages">
  <div class="">
    <mat-tab-group (selectedTabChange)="onTabChange($event)">
        <mat-tab *ngFor="let item of pages; let i = index" >
          <ng-template mat-tab-label>
            <h1 class="ml-8">Page {{i+1}}</h1>
            <button mat-button [matMenuTriggerFor]="menu">
              <mat-icon  class="text-gray-500">arrow_drop_down</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item>Settings</button>
              <button mat-menu-item (click)="removePage(pageId)">Remove</button>
            </mat-menu>
          </ng-template>
          <div class="w-full m-auto mt-2 mb-5">
            <app-canvas [bg]="bgPageSelected"></app-canvas>
          </div>
          <app-text [page_id]="pageId"></app-text>
        </mat-tab>
      </mat-tab-group>
    </div>
</div>





